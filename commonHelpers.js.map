{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst inputData = document.querySelector('input');\nconst container = document.querySelector('div');\n\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  container.append(loader);\n};\n\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n};\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const userRequest = inputData.value;\n\n  if (!userRequest.trim()) {\n    iziToast.error({\n      message: 'Please enter a valid search query.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n  gallery.innerHTML = '';\n  searchImages(userRequest);\n});\n\nfunction searchImages(userRequest) {\n  const personalKey = '42394158-5c4cd21eee44163ae27aefe31';\n  const url = `https://pixabay.com/api/?key=${personalKey}&q=${userRequest}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      } else {\n        return response.json();\n      }\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        const markup = data.hits\n          .map(data => {\n            return `<li class=\"gallery-item\"><a href=\"${data.largeImageURL}\"> <!-- Use largeImageURL -->\n              <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n              <p><b>Likes: </b>${data.likes}</p>\n              <p><b>Views: </b>${data.views}</p>\n              <p><b>Comments: </b>${data.comments}</p>\n              <p><b>Downloads: </b>${data.downloads}</p>\n            </li>`;\n          })\n          .join('');\n        gallery.insertAdjacentHTML('afterbegin', markup);\n\n        const lightbox = new SimpleLightbox('.gallery a', properties);\n        lightbox.refresh();\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        message: 'An error occurred. Please try again later.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n\nconst properties = {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  animation: 250,\n};\n"],"names":["form","gallery","inputData","container","showLoader","loader","hideLoader","e","userRequest","iziToast","searchImages","url","response","data","markup","SimpleLightbox","properties","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAY,SAAS,cAAc,KAAK,EAExCC,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAU,OAAOE,CAAM,CACzB,EAEMC,EAAa,IAAM,CACvB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB,EAEAL,EAAK,iBAAiB,SAAUO,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMC,EAAcN,EAAU,MAE9B,GAAI,CAACM,EAAY,OAAQ,CACvBC,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,IACAH,EAAQ,UAAY,GACpBS,EAAaF,CAAW,CAC1B,CAAC,EAED,SAASE,EAAaF,EAAa,CAEjC,MAAMG,EAAM,qEAAiDH,CAAW,2DAExE,MAAMG,CAAG,EACN,KAAKC,GAAY,CAChB,GAAKA,EAAS,GAGZ,OAAOA,EAAS,OAFhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAIvC,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBJ,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,MACI,CACL,MAAMK,EAASD,EAAK,KACjB,IAAIA,GACI,qCAAqCA,EAAK,aAAa;AAAA,gDAC1BA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA,iCACnDA,EAAK,KAAK;AAAA,iCACVA,EAAK,KAAK;AAAA,oCACPA,EAAK,QAAQ;AAAA,qCACZA,EAAK,SAAS;AAAA,kBAExC,EACA,KAAK,EAAE,EACVZ,EAAQ,mBAAmB,aAAca,CAAM,EAE9B,IAAIC,EAAe,aAAcC,CAAU,EACnD,QAAO,CACjB,CACP,CAAK,EACA,MAAMC,GAAS,CACdR,EAAS,MAAM,CACb,QAAS,6CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbH,GACN,CAAK,CACL,CAEA,MAAMU,EAAa,CACjB,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,UAAW,GACb"}